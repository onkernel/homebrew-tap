# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Hypeman < Formula
  desc "orchestrate cloud-hypervisor VMs"
  homepage "https://github.com/kernel/hypeman"
  version "0.10.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/kernel/hypeman-cli/releases/download/v0.10.1/hypeman_0.10.1_macos_amd64.zip"
      sha256 "a1ec77cebe0542b563db2209eb754ffc4cde7bcbfbed01b8415043b8d7e36d6e"

      def install
        bin.install "hypeman"
        bash_completion.install "completions/hypeman.bash" => "hypeman"
        zsh_completion.install "completions/hypeman.zsh" => "_hypeman"
        fish_completion.install "completions/hypeman.fish"
        man1.install Dir["man/man1/*.1.gz"]
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/kernel/hypeman-cli/releases/download/v0.10.1/hypeman_0.10.1_macos_arm64.zip"
      sha256 "2bc09e140f8abb2afe5e30e4fcbf02ff3dfabac55f5d355bd2679655b19af418"

      def install
        bin.install "hypeman"
        bash_completion.install "completions/hypeman.bash" => "hypeman"
        zsh_completion.install "completions/hypeman.zsh" => "_hypeman"
        fish_completion.install "completions/hypeman.fish"
        man1.install Dir["man/man1/*.1.gz"]
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/kernel/hypeman-cli/releases/download/v0.10.1/hypeman_0.10.1_linux_amd64.tar.gz"
      sha256 "ca3c57320f94335f4484b6e737a4206decc845252f4d588b8f3113e5be8bd174"
      def install
        bin.install "hypeman"
        bash_completion.install "completions/hypeman.bash" => "hypeman"
        zsh_completion.install "completions/hypeman.zsh" => "_hypeman"
        fish_completion.install "completions/hypeman.fish"
        man1.install Dir["man/man1/*.1.gz"]
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/kernel/hypeman-cli/releases/download/v0.10.1/hypeman_0.10.1_linux_armv6.tar.gz"
      sha256 "f846a7d295bfe76b45e607976eaab78c97c3a09026bd35677a835a05a9061d6c"
      def install
        bin.install "hypeman"
        bash_completion.install "completions/hypeman.bash" => "hypeman"
        zsh_completion.install "completions/hypeman.zsh" => "_hypeman"
        fish_completion.install "completions/hypeman.fish"
        man1.install Dir["man/man1/*.1.gz"]
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/kernel/hypeman-cli/releases/download/v0.10.1/hypeman_0.10.1_linux_arm64.tar.gz"
      sha256 "4e8b65cce881e9e483427c71da6587e2a3d4cb02a61f388ee0cdc734036e10d4"
      def install
        bin.install "hypeman"
        bash_completion.install "completions/hypeman.bash" => "hypeman"
        zsh_completion.install "completions/hypeman.zsh" => "_hypeman"
        fish_completion.install "completions/hypeman.fish"
        man1.install Dir["man/man1/*.1.gz"]
      end
    end
  end

  test do
    system "#{bin}/hypeman", "--version"
  end
end
